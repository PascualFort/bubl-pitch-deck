<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bubl - Slide 3</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/styles.css" />

    <!-- Global Squircle Styles -->
    <link rel="stylesheet" href="css/squircles.css" />

    <!-- Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Sora:wght@300;400;500;600;700;800&family=DM+Sans:wght@400;500;700&display=swap"
      rel="stylesheet"
    />

    <!-- Box Icons for modern iconography -->
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />

    <!-- Chart.js for data visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
      :root {
        --deep-purple: #3a3470;
        --medium-purple: #8a5b96;
        --magenta: #e15b8f;
        --gold: #f9ae56;
        --light-purple: #8a63ff;
        --card-radius: 24;
        --icon-radius: 16;
        --bar-radius: 15;
        --tag-radius: 12;
        --card-smoothing: 0.5;
        --icon-smoothing: 0.5;
        --bar-smoothing: 0.5;
        --tag-smoothing: 0.5;
      }

      /* New title and subtitle styles */
      .slide-title {
        font-family: "Sora", sans-serif;
        font-size: 32px;
        font-weight: 800;
        color: #000000;
        line-height: 1.1;
        margin-bottom: 0.5rem;
      }

      .slide-subtitle {
        font-family: "Sora", sans-serif;
        font-size: 24px;
        font-weight: 400;
        color: var(--light-purple);
        margin-bottom: 2rem;
      }

      .subtitle {
        font-family: "Sora", sans-serif;
        font-size: 24px;
        font-weight: 600;
        color: var(--light-purple);
        margin: 0 0 32px;
        line-height: 1.5;
      }

      /* Consistent text sizing for all normal text */
      p,
      .text-gray-600,
      .text-gray-700,
      .text-indigo-100 {
        font-size: 20px;
        line-height: 1.4;
      }

      /* Segment titles */
      h3.text-xl,
      span.text-xl {
        font-size: 28px !important;
        line-height: 1.3;
      }

      /* Mid-size titles */
      h3.font-medium,
      .text-2xl {
        font-size: 24px !important;
      }

      /* Item text */
      .text-sm {
        font-size: 18px !important;
      }

      /* Adjust stat values for better visibility */
      .text-3xl {
        font-size: 2.5rem !important;
      }

      .text-5xl {
        font-size: 3.5rem !important;
      }

      .slide-content {
        padding-top: 2rem;
      }

      .deep-purple-bg {
        background-color: var(--deep-purple);
        color: white;
      }
      .medium-purple-bg {
        background-color: var(--medium-purple);
        color: white;
      }
      .magenta-bg {
        background-color: var(--magenta);
        color: white;
      }
      .gold-bg {
        background-color: var(--gold);
        color: #333;
      }
      .deep-purple-text {
        color: var(--deep-purple);
      }
      .medium-purple-text {
        color: var(--medium-purple);
      }
      .magenta-text {
        color: var(--magenta);
      }
      .gold-text {
        color: var(--gold);
      }

      /* Special bar with rounded corners */
      .left-squircle-bar-container {
        position: relative;
        width: 100%;
        height: 8px;
        background: rgba(0, 0, 0, 0.1);
        border-radius: 4px;
        overflow: hidden;
      }

      .left-squircle-bar {
        height: 100%;
        background: var(--deep-purple);
        border-radius: 4px;
      }

      .squircle-icon {
        width: 48px;
        height: 48px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        color: white;
        font-size: 1.25rem;
      }

      .squircle-card {
        border-radius: 16px;
        overflow: hidden;
      }

      .squircle-tag {
        display: inline-flex;
        align-items: center;
        padding: 0.5rem 1rem;
        border-radius: 12px;
        font-size: 0.875rem;
        font-weight: 500;
      }

      /* Toggle tool styling (reduced size and fixed to lower right) */
      .toggle-tool-btn {
        position: fixed;
        bottom: 5rem;
        right: 2rem;
        background-color: var(--deep-purple);
        color: white;
        border: none;
        border-radius: 50%;
        width: 48px;
        height: 48px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        cursor: pointer;
        z-index: 1100;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      .bar-container {
        background-color: white;
        height: 40px;
        position: relative;
        overflow: hidden;
        border: 1px solid #f0f0f0;
      }

      .bar {
        height: 100%;
        position: relative;
        overflow: hidden;
      }

      .metric-tag {
        display: inline-flex;
        align-items: center;
        padding: 8px 16px;
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--deep-purple);
        background-color: rgba(138, 99, 255, 0.1);
        position: relative;
        overflow: hidden;
      }

      .corner-radius-tool {
        position: fixed;
        bottom: 5rem;
        right: 2rem;
        background-color: white;
        border-radius: 16px;
        padding: 1.5rem;
        width: 330px;
        z-index: 1090;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        transform: translateY(calc(100% + 5rem));
        opacity: 0;
        pointer-events: none;
        transition: transform 0.3s ease, opacity 0.3s ease;
      }

      .corner-radius-tool.show {
        transform: translateY(0);
        opacity: 1;
        pointer-events: auto;
      }

      .corner-radius-tool h3 {
        font-size: 1.1rem;
        font-weight: 600;
        margin-bottom: 1rem;
      }

      .slider-container {
        margin-bottom: 1rem;
      }

      .slider-container label {
        display: flex;
        justify-content: space-between;
        font-size: 0.875rem;
        margin-bottom: 0.5rem;
      }

      .slider-container input {
        width: 100%;
        margin-bottom: 0.5rem;
      }

      .color-indicator {
        display: inline-block;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        margin-right: 0.5rem;
      }

      .preview-container {
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 1rem 0;
      }

      .preview-box {
        width: 80px;
        height: 80px;
        background-color: var(--deep-purple);
        overflow: hidden;
        position: relative;
        margin: 0 auto;
      }

      .apply-btn {
        background-color: var(--deep-purple);
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 8px;
        font-weight: 500;
        cursor: pointer;
        margin-top: 10px;
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .apply-btn i {
        margin-right: 8px;
      }

      /* Custom number class for Inter font */
      .inter-number {
        font-family: "Inter", sans-serif;
        font-weight: 700;
      }

      /* Update tag styling to green */
      .squircle-tag {
        background-color: rgba(
          16,
          185,
          129,
          0.1
        ) !important; /* Green background */
        color: #10b981 !important; /* Green text */
        border-radius: 8px;
        box-shadow: none !important;
        border: none !important;
      }

      /* Remove clip path to eliminate visual artifacts */
      .squircle-tag::before {
        display: none;
      }

      .chart-container {
        opacity: 1;
        transform: none;
      }

      .chart-container canvas {
        opacity: 1;
        transform: none;
      }
    </style>
  </head>
  <body>
    <!-- Progress Bar -->
    <div class="progress-container">
      <div id="progressBar" class="progress-bar" style="width: 25%"></div>
    </div>

    <!-- Slides Container -->
    <div class="slides-container">
      <!-- Slide 3: Market Opportunity -->
      <section id="slide-3" class="slide active">
        <div class="slide-content gradient-subtle">
          <!-- Two-column layout -->
          <div class="grid grid-cols-2 gap-12 h-full">
            <!-- Left Column -->
            <div class="flex flex-col">
              <!-- Heading -->
              <div>
                <h2
                  class="section-heading mb-4 text-left"
                  style="color: #000; font-size: 80px"
                >
                  Market Opportunity
                </h2>
                <p class="subtitle text-left" style="font-size: 40px">
                  A $300B Digital Automation Market
                </p>
              </div>

              <!-- Market Segments moved to the end of its container -->
              <div class="mb-6 mt-8">
                <h3 class="text-xl mb-8 font-semibold text-gray-700">
                  Market Segments
                </h3>

                <!-- Workflow Automation -->
                <div class="mb-8">
                  <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center">
                      <div
                        class="squircle-icon deep-purple-bg squircle-icon-md mr-4 shadow-md"
                      >
                        <i class="bx bx-git-branch"></i>
                      </div>
                      <span class="text-xl font-medium text-gray-700"
                        >Workflow Automation</span
                      >
                    </div>
                    <span class="text-xl font-bold deep-purple-text number"
                      >$20B</span
                    >
                  </div>
                  <div class="left-squircle-bar-container w-full">
                    <div class="left-squircle-bar deep-purple-bg w-1/4"></div>
                  </div>
                </div>

                <!-- iPaaS -->
                <div class="mb-8">
                  <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center">
                      <div
                        class="squircle-icon medium-purple-bg squircle-icon-md mr-4 shadow-md"
                      >
                        <i class="bx bx-cloud"></i>
                      </div>
                      <span class="text-xl font-medium text-gray-700"
                        >iPaaS</span
                      >
                    </div>
                    <span class="text-xl font-bold medium-purple-text number"
                      >$15B</span
                    >
                  </div>
                  <div class="left-squircle-bar-container w-full">
                    <div class="left-squircle-bar medium-purple-bg w-1/5"></div>
                  </div>
                </div>

                <!-- LCNC -->
                <div class="mb-6">
                  <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center">
                      <div
                        class="squircle-icon magenta-bg squircle-icon-md mr-4 shadow-md"
                      >
                        <i class="bx bx-code-block"></i>
                      </div>
                      <span class="text-xl font-medium text-gray-700"
                        >LCNC (Low-Code No-Code)</span
                      >
                    </div>
                    <span class="text-xl font-bold magenta-text number"
                      >$50B</span
                    >
                  </div>
                  <div class="left-squircle-bar-container w-full">
                    <div class="left-squircle-bar magenta-bg w-3/5"></div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Right Column -->
            <div class="flex flex-col">
              <!-- Large Market Metric - Total Addressable Market card -->
              <div
                class="squircle-card deep-purple-bg p-6 mb-8 shadow-lg"
                style="height: 280px"
              >
                <div class="flex flex-col h-full">
                  <div class="flex items-center justify-between mb-2">
                    <div>
                      <h3 class="text-2xl font-bold">
                        Total Addressable Market
                      </h3>
                      <p class="text-indigo-100">Digital Workflow Automation</p>
                    </div>
                    <div class="text-5xl font-bold number">$300B</div>
                  </div>
                  <div class="flex-grow relative" style="height: 180px">
                    <canvas id="marketGrowthChart"></canvas>
                  </div>
                </div>
              </div>

              <div class="grid grid-cols-2 gap-6">
                <!-- Mid-market Opportunity -->
                <div
                  class="squircle-card bg-white shadow-md"
                  style="grid-column: span 2"
                >
                  <div class="p-6">
                    <div class="flex items-center mb-3">
                      <div
                        class="squircle-icon magenta-bg squircle-icon-md mr-4"
                      >
                        <i class="bx bx-target-lock"></i>
                      </div>
                      <div>
                        <h3 class="font-medium text-gray-500">Mid-market</h3>
                        <div class="text-3xl font-bold magenta-text number">
                          $70B+
                        </div>
                      </div>
                    </div>
                    <div class="text-gray-600 mb-3">
                      Underserved segment (100-2,000 FTEs)
                    </div>
                    <div
                      class="squircle-tag bg-opacity-10 bg-purple-200"
                      style="
                        background-color: rgba(16, 185, 129, 0.1) !important;
                        color: #10b981 !important;
                        padding: 8px 16px;
                        display: inline-flex;
                        align-items: center;
                      "
                    >
                      <i class="bx bx-building-house mr-2"></i>
                      <span class="inter-number">18,500+</span> companies
                    </div>
                  </div>
                </div>

                <!-- CAGR Box -->
                <div class="squircle-card bg-white shadow-sm">
                  <div class="p-6">
                    <div
                      class="squircle-icon medium-purple-bg squircle-icon-md mb-4"
                    >
                      <i class="bx bx-trending-up"></i>
                    </div>
                    <h3 class="font-medium text-gray-500">Annual Growth</h3>
                    <div class="text-3xl font-bold medium-purple-text number">
                      20%+
                    </div>
                    <div class="text-gray-600">
                      CAGR over next <span class="inter-number">5</span> years
                    </div>
                  </div>
                </div>

                <!-- Key Market Drivers -->
                <div class="squircle-card bg-white shadow-sm">
                  <div class="p-6">
                    <div class="squircle-icon gold-bg squircle-icon-md mb-4">
                      <i class="bx bx-line-chart"></i>
                    </div>
                    <h3 class="font-medium text-gray-500">Market Drivers</h3>
                    <div class="mt-4 space-y-2">
                      <div class="flex items-center">
                        <div
                          class="w-6 h-6 rounded-full mr-2 flex items-center justify-center"
                          style="background-color: rgba(16, 185, 129, 0.1)"
                        >
                          <i
                            class="bx bx-check text-sm"
                            style="color: #10b981"
                          ></i>
                        </div>
                        <span class="text-sm text-gray-700"
                          >Digital Transformation</span
                        >
                      </div>
                      <div class="flex items-center">
                        <div
                          class="w-6 h-6 rounded-full mr-2 flex items-center justify-center"
                          style="background-color: rgba(16, 185, 129, 0.1)"
                        >
                          <i
                            class="bx bx-check text-sm"
                            style="color: #10b981"
                          ></i>
                        </div>
                        <span class="text-sm text-gray-700"
                          >Cost Reduction</span
                        >
                      </div>
                      <div class="flex items-center">
                        <div
                          class="w-6 h-6 rounded-full mr-2 flex items-center justify-center"
                          style="background-color: rgba(16, 185, 129, 0.1)"
                        >
                          <i
                            class="bx bx-check text-sm"
                            style="color: #10b981"
                          ></i>
                        </div>
                        <span class="text-sm text-gray-700"
                          >AI Integration</span
                        >
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Navigation Controls -->
    <div class="navigation-controls">
      <button id="prevBtn" class="nav-button">
        <i class="bx bx-chevron-left"></i> Previous
      </button>
      <button id="nextBtn" class="nav-button primary">
        Next <i class="bx bx-chevron-right"></i>
      </button>
    </div>

    <!-- Navigation Dots -->
    <div id="navDots" class="nav-dots"></div>

    <!-- Slide Counter -->
    <div class="slide-counter">
      <div class="indicator"></div>
      <span id="slideCounter">03</span>
      <span>/</span>
      <span id="slideCounterTotal">12</span>
    </div>

    <!-- Squircle JavaScript -->
    <script src="js/squircles.js"></script>

    <!-- Scripts -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Set up navigation between files
        const prevBtn = document.getElementById("prevBtn");
        const nextBtn = document.getElementById("nextBtn");
        const navDots = document.getElementById("navDots");
        const currentSlideNumber = 3;
        const totalSlides = 12;

        // Create navigation dots
        for (let i = 0; i < totalSlides; i++) {
          const dot = document.createElement("div");
          dot.classList.add("nav-dot");
          if (i === currentSlideNumber - 1) dot.classList.add("active");
          dot.addEventListener("click", () => goToSlide(i + 1));
          navDots.appendChild(dot);
        }

        // Navigation functions
        function goToSlide(slideNumber) {
          window.location.href = `slide${slideNumber}.html`;
        }

        // Event listeners
        prevBtn.addEventListener("click", () => {
          if (currentSlideNumber > 1) {
            goToSlide(currentSlideNumber - 1);
          }
        });

        nextBtn.addEventListener("click", () => {
          if (currentSlideNumber < totalSlides) {
            goToSlide(currentSlideNumber + 1);
          }
        });

        // Keyboard navigation
        document.addEventListener("keydown", (e) => {
          if (e.key === "ArrowRight" || e.key === "PageDown") {
            if (currentSlideNumber < totalSlides) {
              goToSlide(currentSlideNumber + 1);
            }
          } else if (e.key === "ArrowLeft" || e.key === "PageUp") {
            if (currentSlideNumber > 1) {
              goToSlide(currentSlideNumber - 1);
            }
          }
        });

        // Create market growth chart
        const createMarketGrowthChart = () => {
          const ctx = document
            .getElementById("marketGrowthChart")
            .getContext("2d");

          // Market years - focusing on key years
          const years = [
            "2023",
            "2024",
            "2025",
            "2027",
            "2030",
            "2032",
            "2033",
          ];

          // Workflow Automation data (CAGR 10.1%)
          const workflowData = [20.3, 25.4, 30.12, 36.5, 79.4, 105.2, 115.7];

          // iPaaS data (CAGR ~33%)
          const iPaaSData = [12.8, 15.6, 17.55, 30.7, 79.38, 132.5, 191.7];

          // Low-Code/No-Code data (CAGR 22.5-28.84%)
          const lcncData = [28.0, 30.12, 36.9, 55.4, 101.68, 152.6, 187.0];

          // Combined market values
          const combinedData = years.map((_, index) => {
            const wf = workflowData[index] || 0;
            const ip = iPaaSData[index] || 0;
            const lc = lcncData[index] || 0;
            return Math.round((wf + ip + lc) * 10) / 10; // Round to 1 decimal place
          });

          // Plugin to draw vertical line at 2025 with tag
          const verticalLinePlugin = {
            id: "verticalLine",
            beforeDraw: (chart) => {
              const { ctx, chartArea, scales } = chart;
              const presentIndex = 2; // Index of 2025 in the years array

              if (!scales.x) return;

              // Get x position for 2025
              const x = scales.x.getPixelForValue(presentIndex);

              // Only draw if within chart area
              if (x >= chartArea.left && x <= chartArea.right) {
                ctx.save();

                // Draw vertical line
                ctx.beginPath();
                ctx.setLineDash([3, 3]);
                ctx.moveTo(x, chartArea.top + 25);
                ctx.lineTo(x, chartArea.bottom);
                ctx.lineWidth = 1;
                ctx.strokeStyle = "rgba(255, 255, 255, 0.5)";
                ctx.stroke();

                // Add 2025 tag
                ctx.fillStyle = "rgba(255, 255, 255, 0.9)";
                ctx.beginPath();
                const tagWidth = 55;
                const tagHeight = 22;
                ctx.roundRect(
                  x - tagWidth / 2,
                  chartArea.top,
                  tagWidth,
                  tagHeight,
                  11
                );
                ctx.fill();

                // Add "2025" text
                ctx.font = "bold 12px Inter";
                ctx.fillStyle = "#3A3470";
                ctx.textAlign = "center";
                ctx.textBaseline = "middle";
                ctx.fillText("2025", x, chartArea.top + tagHeight / 2);

                ctx.restore();
              }
            },
          };

          // Plugin to draw vertical lines for all years
          const yearLinesPlugin = {
            id: "yearLines",
            beforeDraw: (chart) => {
              const { ctx, chartArea, scales } = chart;

              if (!scales.x) return;

              ctx.save();

              // Draw a vertical line for each year
              years.forEach((_, index) => {
                // Skip 2025 as it's handled by the other plugin
                if (index === 2) return;

                const x = scales.x.getPixelForValue(index);

                // Only draw if within chart area
                if (x >= chartArea.left && x <= chartArea.right) {
                  ctx.beginPath();
                  ctx.moveTo(x, chartArea.top);
                  ctx.lineTo(x, chartArea.bottom);
                  ctx.lineWidth = 1;
                  ctx.strokeStyle = "rgba(255, 255, 255, 0.1)";
                  ctx.stroke();
                }
              });

              ctx.restore();
            },
          };

          // Create the chart
          new Chart(ctx, {
            type: "line",
            data: {
              labels: years,
              datasets: [
                {
                  label: "Workflow Automation",
                  data: workflowData,
                  borderColor: "#F9AE56", // Gold
                  backgroundColor: "transparent",
                  borderWidth: 2,
                  tension: 0.4,
                  pointRadius: 0,
                  pointHoverRadius: 6,
                  pointBackgroundColor: "#F9AE56",
                  pointHoverBackgroundColor: "#F9AE56",
                  pointBorderWidth: 0,
                  pointHoverBorderWidth: 2,
                  pointHoverBorderColor: "rgba(255, 255, 255, 0.5)",
                  fill: false,
                  segment: {
                    borderDash: (ctx) =>
                      ctx.p0DataIndex >= 2 ? [2, 2] : undefined,
                  },
                  order: 3,
                },
                {
                  label: "iPaaS",
                  data: iPaaSData,
                  borderColor: "#6366F1", // Light purple
                  backgroundColor: "transparent",
                  borderWidth: 2,
                  tension: 0.4,
                  pointRadius: 0,
                  pointHoverRadius: 6,
                  pointBackgroundColor: "#6366F1",
                  pointHoverBackgroundColor: "#6366F1",
                  pointBorderWidth: 0,
                  pointHoverBorderWidth: 2,
                  pointHoverBorderColor: "rgba(255, 255, 255, 0.5)",
                  fill: false,
                  segment: {
                    borderDash: (ctx) =>
                      ctx.p0DataIndex >= 2 ? [2, 2] : undefined,
                  },
                  order: 2,
                },
                {
                  label: "Low-Code/No-Code",
                  data: lcncData,
                  borderColor: "#E15B8F", // Magenta
                  backgroundColor: "transparent",
                  borderWidth: 2,
                  tension: 0.4,
                  pointRadius: 0,
                  pointHoverRadius: 6,
                  pointBackgroundColor: "#E15B8F",
                  pointHoverBackgroundColor: "#E15B8F",
                  pointBorderWidth: 0,
                  pointHoverBorderWidth: 2,
                  pointHoverBorderColor: "rgba(255, 255, 255, 0.5)",
                  fill: false,
                  segment: {
                    borderDash: (ctx) =>
                      ctx.p0DataIndex >= 2 ? [2, 2] : undefined,
                  },
                  order: 1,
                },
                {
                  label: "Combined Market",
                  data: combinedData,
                  borderColor: "#FFFFFF", // White
                  backgroundColor: "transparent",
                  borderWidth: 3,
                  tension: 0.4,
                  pointRadius: 0,
                  pointHoverRadius: 8,
                  pointBackgroundColor: "#FFFFFF",
                  pointHoverBackgroundColor: "#FFFFFF",
                  pointBorderWidth: 0,
                  pointHoverBorderWidth: 2,
                  pointHoverBorderColor: "rgba(255, 255, 255, 0.5)",
                  fill: false,
                  segment: {
                    borderDash: (ctx) =>
                      ctx.p0DataIndex >= 2 ? [2, 2] : undefined,
                  },
                  order: 0,
                },
              ],
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              layout: {
                padding: {
                  top: 30,
                },
              },
              scales: {
                x: {
                  display: false,
                  grid: {
                    display: true,
                    drawOnChartArea: true,
                    drawTicks: false,
                    color: "rgba(255, 255, 255, 0.1)",
                  },
                  border: {
                    display: false,
                  },
                },
                y: {
                  display: false,
                  grid: {
                    display: false,
                  },
                  border: {
                    display: false,
                  },
                  beginAtZero: true,
                },
              },
              plugins: {
                legend: {
                  display: false,
                },
                tooltip: {
                  enabled: true,
                  backgroundColor: "rgba(255, 255, 255, 0.9)",
                  titleColor: "#3A3470",
                  bodyColor: "#3A3470",
                  titleFont: {
                    family: "Inter",
                    size: 12,
                    weight: "bold",
                  },
                  bodyFont: {
                    family: "Inter",
                    size: 12,
                  },
                  padding: 10,
                  cornerRadius: 8,
                  displayColors: true,
                  boxPadding: 3,
                  callbacks: {
                    title: function (context) {
                      return context[0].label;
                    },
                    label: function (context) {
                      return context.dataset.label + ": $" + context.raw + "B";
                    },
                  },
                },
              },
              elements: {
                line: {
                  tension: 0.4,
                  capBezierPoints: true,
                },
                point: {
                  radius: 0,
                  hoverRadius: 8,
                  hitRadius: 10,
                },
              },
              animation: {
                duration: 2000,
                easing: "easeOutQuart",
                delay: function (context) {
                  return context.datasetIndex * 300;
                },
              },
              hover: {
                mode: "nearest",
                intersect: false,
              },
            },
            plugins: [verticalLinePlugin, yearLinesPlugin],
          });
        };

        // Initialize chart when DOM is loaded
        createMarketGrowthChart();
      });
    </script>
  </body>
</html>
